var Tests;(function(){var n=[{memory:16,register:16,comparison:"Equal To",carryFlag:!0,zeroFlag:!0},{memory:16,register:32,comparison:"Greater Than",carryFlag:!0,zeroFlag:!1},{memory:32,register:16,comparison:"Less Than",carryFlag:!1,zeroFlag:!1}],r=function(n){return n?"set":"reset"},t=function(n,t){return"given register value that is "+n.comparison+" the memory value when compared as "+t},i=function(n){return"then should "+r(n.carryFlag)+" the Carry Flag and "+r(n.zeroFlag)+" the Zero Flag"};describe("Comparison Operators",function(){var h,r,c,u,e=80,o=5,s=32,f=49152;beforeEach(function(){module("app")}),beforeEach(function(){inject(function(n,t){h=n,c=t,r=h.getCpu()})}),describe("CMP",function(){describe("CMP Immediate",function(){var f,e,o;for(beforeEach(function(){u=new Emulator.CompareAccumulatorImmediate}),f=0;f<n.length;f++)e=n[f],o=function(n){describe(t(n,"Immediate"),function(){beforeEach(function(){r.poke(r.rPC,n.memory),r.rA=n.register,u.execute(r)}),it(i(n),function(){expect(r.checkFlag(Constants.ProcessorStatus.CarryFlagSet)).toBe(n.carryFlag),expect(r.checkFlag(Constants.ProcessorStatus.ZeroFlagSet)).toBe(n.zeroFlag)})})},o(e)}),describe("CMP Zero Page",function(){var f,o,s;for(beforeEach(function(){u=new Emulator.CompareAccumulatorZeroPage}),f=0;f<n.length;f++)o=n[f],s=function(n){describe(t(n,"Zero Page"),function(){beforeEach(function(){r.poke(r.rPC,e),r.poke(e,n.memory),r.rA=n.register,u.execute(r)}),it(i(n),function(){expect(r.checkFlag(Constants.ProcessorStatus.CarryFlagSet)).toBe(n.carryFlag),expect(r.checkFlag(Constants.ProcessorStatus.ZeroFlagSet)).toBe(n.zeroFlag)})})},s(o)}),describe("CMP Zero Page, X",function(){var f,s,h;for(beforeEach(function(){u=new Emulator.CompareAccumulatorZeroPageX}),f=0;f<n.length;f++)s=n[f],h=function(n){describe(t(n,"Zero Page, X"),function(){beforeEach(function(){r.poke(r.rPC,e),r.poke(e+o,n.memory),r.rA=n.register,r.rX=o,u.execute(r)}),it(i(n),function(){expect(r.checkFlag(Constants.ProcessorStatus.CarryFlagSet)).toBe(n.carryFlag),expect(r.checkFlag(Constants.ProcessorStatus.ZeroFlagSet)).toBe(n.zeroFlag)})})},h(s)}),describe("CMP Absolute",function(){var e,o,s;for(beforeEach(function(){u=new Emulator.CompareAccumulatorAbsolute}),e=0;e<n.length;e++)o=n[e],s=function(n){describe(t(n,"Absolute"),function(){beforeEach(function(){r.poke(r.rPC,f&Constants.Memory.ByteMask),r.poke(r.rPC+1,f>>Constants.Memory.BitsInByte&Constants.Memory.ByteMask),r.poke(f,n.memory),r.rA=n.register,u.execute(r)}),it(i(n),function(){expect(r.checkFlag(Constants.ProcessorStatus.CarryFlagSet)).toBe(n.carryFlag),expect(r.checkFlag(Constants.ProcessorStatus.ZeroFlagSet)).toBe(n.zeroFlag)})})},s(o)}),describe("CMP Absolute, X",function(){var e,s,h;for(beforeEach(function(){u=new Emulator.CompareAccumulatorAbsoluteX}),e=0;e<n.length;e++)s=n[e],h=function(n){describe(t(n,"Absolute, X"),function(){beforeEach(function(){r.poke(r.rPC,f&Constants.Memory.ByteMask),r.poke(r.rPC+1,f>>Constants.Memory.BitsInByte&Constants.Memory.ByteMask),r.poke(f+o,n.memory),r.rA=n.register,r.rX=o,u.execute(r)}),it(i(n),function(){expect(r.checkFlag(Constants.ProcessorStatus.CarryFlagSet)).toBe(n.carryFlag),expect(r.checkFlag(Constants.ProcessorStatus.ZeroFlagSet)).toBe(n.zeroFlag)})})},h(s)}),describe("CMP Absolute, Y",function(){var e,o,h;for(beforeEach(function(){u=new Emulator.CompareAccumulatorAbsoluteY}),e=0;e<n.length;e++)o=n[e],h=function(n){describe(t(n,"Absolute, Y"),function(){beforeEach(function(){r.poke(r.rPC,f&Constants.Memory.ByteMask),r.poke(r.rPC+1,f>>Constants.Memory.BitsInByte&Constants.Memory.ByteMask),r.poke(f+s,n.memory),r.rA=n.register,r.rY=s,u.execute(r)}),it(i(n),function(){expect(r.checkFlag(Constants.ProcessorStatus.CarryFlagSet)).toBe(n.carryFlag),expect(r.checkFlag(Constants.ProcessorStatus.ZeroFlagSet)).toBe(n.zeroFlag)})})},h(o)}),describe("CMP Indirect, X",function(){var s,h,c;for(beforeEach(function(){u=new Emulator.CompareAccumulatorIndexedIndirectX}),s=0;s<n.length;s++)h=n[s],c=function(n){describe(t(n,"Indirect, X"),function(){beforeEach(function(){r.poke(e+o,f&Constants.Memory.ByteMask),r.poke(e+o+1,f>>Constants.Memory.BitsInByte&Constants.Memory.ByteMask),r.poke(r.rPC,e),r.poke(f,n.memory),r.rA=n.register,r.rX=o,u.execute(r)}),it(i(n),function(){expect(r.checkFlag(Constants.ProcessorStatus.CarryFlagSet)).toBe(n.carryFlag),expect(r.checkFlag(Constants.ProcessorStatus.ZeroFlagSet)).toBe(n.zeroFlag)})})},c(h)}),describe("CMP Indirect, Y",function(){var o,h,c;for(beforeEach(function(){u=new Emulator.CompareAccumulatorIndirectIndexedY}),o=0;o<n.length;o++)h=n[o],c=function(n){describe(t(n,"Indirect, X"),function(){beforeEach(function(){r.poke(e,f&Constants.Memory.ByteMask),r.poke(e+1,f>>Constants.Memory.BitsInByte&Constants.Memory.ByteMask),r.poke(r.rPC,e),r.poke(f+s,n.memory),r.rA=n.register,r.rY=s,u.execute(r)}),it(i(n),function(){expect(r.checkFlag(Constants.ProcessorStatus.CarryFlagSet)).toBe(n.carryFlag),expect(r.checkFlag(Constants.ProcessorStatus.ZeroFlagSet)).toBe(n.zeroFlag)})})},c(h)})}),describe("CPX",function(){describe("CPX Immediate",function(){var f,e,o;for(beforeEach(function(){u=new Emulator.CompareXImmediate}),f=0;f<n.length;f++)e=n[f],o=function(n){describe(t(n,"Immediate"),function(){beforeEach(function(){r.poke(r.rPC,n.memory),r.rX=n.register,u.execute(r)}),it(i(n),function(){expect(r.checkFlag(Constants.ProcessorStatus.CarryFlagSet)).toBe(n.carryFlag),expect(r.checkFlag(Constants.ProcessorStatus.ZeroFlagSet)).toBe(n.zeroFlag)})})},o(e)}),describe("CPX Zero Page",function(){var f,o,s;for(beforeEach(function(){u=new Emulator.CompareXZeroPage}),f=0;f<n.length;f++)o=n[f],s=function(n){describe(t(n,"Zero Page"),function(){beforeEach(function(){r.poke(r.rPC,e),r.poke(e,n.memory),r.rX=n.register,u.execute(r)}),it(i(n),function(){expect(r.checkFlag(Constants.ProcessorStatus.CarryFlagSet)).toBe(n.carryFlag),expect(r.checkFlag(Constants.ProcessorStatus.ZeroFlagSet)).toBe(n.zeroFlag)})})},s(o)}),describe("CPX Absolute",function(){var e,o,s;for(beforeEach(function(){u=new Emulator.CompareXAbsolute}),e=0;e<n.length;e++)o=n[e],s=function(n){describe(t(n,"Absolute"),function(){beforeEach(function(){r.poke(r.rPC,f&Constants.Memory.ByteMask),r.poke(r.rPC+1,f>>Constants.Memory.BitsInByte&Constants.Memory.ByteMask),r.poke(f,n.memory),r.rX=n.register,u.execute(r)}),it(i(n),function(){expect(r.checkFlag(Constants.ProcessorStatus.CarryFlagSet)).toBe(n.carryFlag),expect(r.checkFlag(Constants.ProcessorStatus.ZeroFlagSet)).toBe(n.zeroFlag)})})},s(o)})}),describe("CPY",function(){describe("CPY Immediate",function(){var f,e,o;for(beforeEach(function(){u=new Emulator.CompareYImmediate}),f=0;f<n.length;f++)e=n[f],o=function(n){describe(t(n,"Immediate"),function(){beforeEach(function(){r.poke(r.rPC,n.memory),r.rY=n.register,u.execute(r)}),it(i(n),function(){expect(r.checkFlag(Constants.ProcessorStatus.CarryFlagSet)).toBe(n.carryFlag),expect(r.checkFlag(Constants.ProcessorStatus.ZeroFlagSet)).toBe(n.zeroFlag)})})},o(e)}),describe("CPY Zero Page",function(){var f,o,s;for(beforeEach(function(){u=new Emulator.CompareYZeroPage}),f=0;f<n.length;f++)o=n[f],s=function(n){describe(t(n,"Zero Page"),function(){beforeEach(function(){r.poke(r.rPC,e),r.poke(e,n.memory),r.rY=n.register,u.execute(r)}),it(i(n),function(){expect(r.checkFlag(Constants.ProcessorStatus.CarryFlagSet)).toBe(n.carryFlag),expect(r.checkFlag(Constants.ProcessorStatus.ZeroFlagSet)).toBe(n.zeroFlag)})})},s(o)}),describe("CPY Absolute",function(){var e,o,s;for(beforeEach(function(){u=new Emulator.CompareYAbsolute}),e=0;e<n.length;e++)o=n[e],s=function(n){describe(t(n,"Absolute"),function(){beforeEach(function(){r.poke(r.rPC,f&Constants.Memory.ByteMask),r.poke(r.rPC+1,f>>Constants.Memory.BitsInByte&Constants.Memory.ByteMask),r.poke(f,n.memory),r.rY=n.register,u.execute(r)}),it(i(n),function(){expect(r.checkFlag(Constants.ProcessorStatus.CarryFlagSet)).toBe(n.carryFlag),expect(r.checkFlag(Constants.ProcessorStatus.ZeroFlagSet)).toBe(n.zeroFlag)})})},s(o)})})})})(Tests||(Tests={}))